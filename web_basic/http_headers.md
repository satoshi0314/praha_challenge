# HTTPヘッダ
[課題](https://airtable.com/tblg8ePOEQRDtIGiY/viwV3pAlEvPOOgmHF/recJJh8cYv7qwSnp1?blocks=hide)


## 1
### Host
リクエストヘッダー。
HTTP/1.1 で唯一の必須ヘッダ。
リクエストが送信される先のサーバーのホスト名とポート番号を指定する。


### Content-type
リソースのMIMEタイプを表す。
レスポンスでは、クライアントに返されたコンテンツがどの種類かを伝える。

### User-agent
リクエストヘッダー。
ブラウザやOSなどクライアントが使用しているバージョンなどを識別できるようにする特性文字列のこと。

### Accept
リクエストヘッダー。
クライアントが対応できるMIMEタイプをサーバーに伝える。
サーバーは対応したものを`Content-Type`を通してクライアントに返す。

### Referer
リクエストヘッダー。
現在リクエストされているページへのリンクを持った直前のWebページのアドレスが含まれる。
これにより、サーバーは誰がどこから来たかを識別し、分析やログ、キャッシュの最適化などに使う。

### Accept-Encoding
リクエストヘッダー。
コンテンツが対応できるエンコード方式（一般的には圧縮アルゴリズム）をサーバーに伝える。
サーバーは対応したものを`Content-Encoding`を通してクライアントに返す。

### Authorization
リクエストヘッダー。
サーバーでユーザーエージェントを認証するための資格情報を持っている。

### Location
レスポンスヘッダー。
エンティティの場所が移動した場合など、ブラウザが要求した URL とは別の URL にジャンプさせたい場合に使用する。URL には http:// や https:// で始まる絶対URL を指定します。

### referer
- aタグにtarget="_blank"を設定する際に、rel=noreferrerを設定する必要があるか。また、rel=noreferrerを設定しなかった場合に起きうる問題を説明せよ。

(1) セキュリティ上の問題
遷移先は`window.opener`プロパティを使用してウィンドウオブジェクトにアクセスでき、遷移元のページを不正に操作したり、オブジェクトにアクセスしたりできてしまいます。
これによって、フッシング詐欺攻撃を行う余地を生んでしまいます。

(2) パフォーマンス上の問題
遷移先のページは、遷移元のページと同じプロセスで実行される場合があります。  
遷移先のページが多くの JavaScript を実行している場合、ページのパフォーマンスが低下する可能性があります。

上記の問題を避けるために設定する。

- 同じオリジンの時はrefererの情報を全て送信し、オリジンが異なる時は、オリジン情報だけをrefererとして送信するようなHTTPレスポンスヘッダはなにか
```Referrer-Policy: origin-when-cross-origin```

## 2
Q1. Websiteがロードする先のURL、信頼するソースからのプラグインコンテンツ、そして自分の管理配下にあるスクリプトのみの指定をすることで、XSS防止、クリックジャッキング、その他のコードインジェクション攻撃を防ぐことができるヘッダはなにか。

A1. Content Security Policy

Q2. webアプリケーション上で、ブラウザに対して、アクセスがHTTPではなくHTTPSでされるべきと指示できるヘッダはなにか。

A2. Strict-Transport-Security

Q3. HTTPヘッダインジェクションの対策として、外部からのパラメータをHTTPレスポンスヘッダに出力しないようにするのはなぜか。

A3. HTTPレスポンスは改行と空白行によって分割されていて、「%0D%0A」（改行コード）を含めることで、改竄することができるから。
